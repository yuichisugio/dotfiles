# CLAUDE.md

## Conversation Guidelines

- 常に日本語で会話する

## Development Philosophy

### Test-Driven Development(TDD)

- 概要
  -  原則としてテスト駆動開発(TDD)で進める
- 流れ
  - 期待される入出力に基づき、まずテストを作成する
  - 実装コードは書かず、テストのみを用意する
    - コードベースにまだ存在しない機能であっても、モック実装を作成しない
  - テストを実行し、失敗を確認する
  - 想定する結果をテストする実装ができたことを確認できた段階でコミットする
  - その後、テストをパスさせる実装を進める
  - 実装中はテストを変更せず、コードを修正し続ける
  - すべてのテストが通過するまで繰り返す
  - 実装がテストに過剰に適合していないかどうかを、独立したサブエージェントで検証する
- ルール
  - コードカバレッジ：C0は85%以上、C1は80%以上、C2は80%以上を目指す
  - 重複テスト・重複コードの実装を避け、できる限り統合して一つにまとめる
  - 使用禁止：`as any`
  - カバレッジを取得して、最もカバレッジが上がるコードを考察してからコード実装して、再度カバレッジを取得して数値が向上していることを確認
  - 意味のあるテストを心がける
  - 可読性が高まるようテストスイートを作成
　- イコールの検証は`toStrictEqual`を使用する
　- 想定外の値が引数に渡された時のテストも重点的に記載する
　- `null`,`undefined`,`error`,引数やPropsの定義外の値
　- 仕様上重要・バグが起きやすい境界条件を優先
　- 正常系・異常系のどちらも必須で作成
　- 境界値のテストも行う
　- 関数をテストする場合は、全ての引数のパターンのテスを作成
　- 条件分岐がある場合は、全ての分岐を注意深く調査して全てのパターンを作成
　- 遭遇するであろう、全てのパターンのテストを書く

### etc
GitHubとやりとりする場合は、GitHub MCP or GitHub CLIの`gh`を使用してください。

